<!DOCTYPE html> 
<html> 
  <head> 
    <title>Web Payments Use Cases</title> 
    <meta http-equiv='Content-Type' content='text/html;charset=utf-8'/> 
    <script src='../respec-w3c-common.js' class='remove'></script> 
    <script src='../respec-webpayments.js' class='remove'></script> 
    <script class='remove'> 
      var respecConfig = {
          // specification status (e.g. WD, LCWD, NOTE, etc.). If in doubt use ED.
          specStatus:           "ED",
          
          // the specification's short name, as in http://www.w3.org/TR/short-name/
          shortName:            "web-payments-use-cases",
 
          // if you wish the publication date to be other than today, set this
          // publishDate:  "2009-08-06",
 
          // if there is a previously published draft, uncomment this and set its YYYY-MM-DD date
          // and its maturity status
          // previousPublishDate:  "1977-03-15",
          // previousMaturity:  "CG-DRAFT",
 
          // if there a publicly available Editor's Draft, this is the link
          edDraftURI:           "https://dvcs.w3.org/hg/webpayments/raw-file/default/latest/use-cases/index.html",
 
          // if this is a LCWD, uncomment and set the end of its review period
          // lcEnd: "2009-08-05",
 
          // if you want to have extra CSS, append them to this list
          // it is recommended that the respec.css stylesheet be kept
          //extraCSS:             [],
 
          // editors, add as many as you like
          // only "name" is required
          editors:  [
              { name: "Manu Sporny", url: "https://manu.sporny.org/",
                company: "Digital Bazaar, Inc.", companyURL: "http://digitalbazaar.com/" },
              { name: "Katie Haritos-Shea", url: "https://www.linkedin.com/in/katieharitosshea",
                company: "W3C Invited Expert", companyURL: "http://www.w3.org/Payments/IG/" },
          ],
 
          // authors, add as many as you like. 
          // This is optional, uncomment if you have authors as well as editors.
          // only "name" is required. Same format as editors.
 
          authors:  [
              { name: "David Ezell", url: "http://example.org/",
                company: "NACS", companyURL: "http://www.nacsonline.com/" },
              { name: "Manu Sporny", url: "https://manu.sporny.org/",
                company: "Digital Bazaar, Inc.", companyURL: "http://digitalbazaar.com/" },
          ],

          // maximum level of table of contents
          maxTocLevel: 2,
      
          // name of the WG
          wg:           "Web Payments Interest Group",
          
          // URI of the public WG page
          wgURI:        "http://www.w3.org/blog/wpig/",
          
          // name (with the @w3c.org) of the public mailing to which comments are due
          wgPublicList: "public-webpayments-comments@w3.org",
          
          // URI of the patent status for this WG, for Rec-track documents
          // !!!! IMPORTANT !!!!
          // This is important for Rec-track documents, do not copy a patent URI from a random
          // document unless you know what you're doing. If in doubt ask your friendly neighbourhood
          // Team Contact.
          wgPatentURI:  "http://www.w3.org/2004/01/pp-impl/73816/status",

          preProcess: [ webpayments.preProcess ]/*,
          alternateFormats: [ {uri: "diff-20111214.html", label: "diff to previous version"} ],
          */
      };
    </script> 
  </head> 
<body> 
  <section id='abstract'> 
    <p> 
This document outlines and prioritizes desired functionality that the Open
Web Platform should provide in the area of Web Payments. The purpose of this
document is to provide future W3C Working Groups with specific requirements
and functionality that should be achievable with new features that they 
add to the Open Web Platform.
    </p> 
  </section> 

  <section id='sotd'> 
    <p> 
This document is a work in progress and is being released early and often
using an agile process; it is incomplete.
    </p>
The Web Payments IG has only had the opportunity to review a handful of the
40+ use cases, 120+ requirements, and hundreds of pages of
payments research submitted to the group via various other standards group
output such as ISO20022, research documents from X9 and the US Federal Reserve, 
documents from the Web Payments Community Group, and input from the 
general public. Expect this document to be rapidly iterated upon.
    </p> 
  </section> 

  <section> 
    <h2>Introduction</h2> 
    <p>
Introduction goes here.
    </p>
  </section>

  <section> 
    <h2>Terminology</h2>
    <p>
This document attempts to communicate the concepts outlined in the Web
Payments space by using specific terms to discuss particular concepts. This
terminology is included below and linked to throughout the document to aid
the reader:
    </p>
    <dl>
      <dt><tdef>entity</tdef></dt>
      <dd>
A person, organization, or software agent that is capable of interacting with
the world.
      </dd>
      <dt><tdef>payer</tdef></dt>
      <dd>
An <tref>entity</tref> that provides a source of funds as required by a 
<tref>transaction</tref>.
      </dd>
      <dt><tdef>payee</tdef></dt>
      <dd>
An <tref>entity</tref> that receives funds as required by a 
<tref>transaction</tref>.
      </dd>
      <dt><tdef>merchant</tdef></dt>
      <dd>
An <tref>entity</tref> receiving payment for goods, services, or other things 
of value; abstractly known as a <tref>payee</tref>.
      </dd>
      <dt><tdef>customer</tdef></dt>
      <dd>
An <tref>entity</tref> paying to receive goods, services, or other things 
of value; abstractly known as a <tref>payer</tref>.
      </dd>
      <dt><tdef>transaction</tdef></dt>
      <dd>
An instance of an exchange of value such as buying or selling something.
      </dd>
      <dt><tdef>payment instrument</tdef></dt>
      <dd>
A mechanism used to transfer value from a <tref>payer</tref> to a 
<tref>payee</tref>.
      </dd>
      <dt><tdef>payment processor</tdef></dt>
      <dd>
Submits and processes payments using a particular 
<tref>payment instrument</tref> to a payment network.
      </dd>
      <dt><tdef>credential</tdef></dt>
      <dd>
A qualification, achievement, personal quality, aspect of an 
<tref>entity</tref>'s background, or verifiable statement by an entity about 
another entity.
      </dd>
      <dt><tdef>payment agent</tdef></dt>
      <dd>
A piece of software operating on an <tref title="entity">entity's</tref>
behalf that is capable of executing 
<tref title="transaction">transactions</tref>.
      </dd>
      <dt><tdef></tdef></dt>
      <dd>

      </dd>
    </dl>
  </section>

  <section> 
    <h2>High Priority Use Cases</h2> 
    <p>
The following use cases have been identified by the Web Payments Interest
Group as high-priority items.
    </p>
    
    <section>
      <h3>Payment Request</h3>
      <p>
A <tref>customer</tref> selects a product or service to purchase on a website. 
The website generates a payment request that is sent to the customer's 
<tref>payment processor</tref> for processing.
      </p>

      <section>
        <h4>Examples</h4>
        <ul>
          <li>
Customer POV: Penny logs into the HobbyCo website, providing her 
<tref>payment processor</tref> <tref>credential</tref> in the process. Penny 
selects a model train for purchase. The store generates a payment request which 
is then forwarded to her preferred payment processor.
          </li>
          <li>
Merchant POV: A FarmCo <tref>customer</tref> selects a 10 kg bag of grass 
seed for purchase. FarmCo performs a few database lookups to determine the 
current market price of grass seed and generates an invoice for the purchase 
of the selected product. The invoice is transmitted to the customer's 
<tref>payment agent</tref>, which then transmits the invoice to the 
customer's <tref>payment processor</tref> for processing.
          </li>
          <li>
Payment Processor POV: A PayCo <tref>customer</tref> receives a payment request 
to send funds to RetailCo. Upon approval by the customer, the transmission of 
funds are initiated from the customer's financial account to RetailCo's 
financial account.
          </li>
        </ul>
      </section>
      
      <section>
        <h4>Details</h4>
        <p>
All payments start somewhere and they typically follow the same basic flow: 
1) a <tref>payer</tref> requests a product or service, 2) the 
<tref>payee</tref> advertises the final price for the product or service, and 
3) the payer initiates payment to the payee. This use case explores the 
initiation of a payment from the <tref>customer</tref>, <tref>merchant</tref>, 
and <tref>payment processor</tref> perspectives. 
        </p>
        <p>
A payment request contains all of the details necessary to perform a purchase 
including:
        </p>
        <ol>
          <li>
an optional list of requested products or services (see the Offers use case 
<span class="issue">not yet integrated</span>),
          </li>
          <li>
the exchange value (price) for the products/services 
(see the Offers use case <span class="issue">not yet integrated</span>), 
          </li>
          <li>
the acceptable 
<tref title="payment instrument">payment instruments</tref> (see the 
<a href="#choice-of-payment-instrument">choice of payment instrument</a>
use case), and 
          </li>
          <li>
a cryptographically verifiable signature on the important data in the 
payment request (see Digital Signatures use case 
<span class="issue">not yet integrated</span>). 
          </li>
        </ol>
        <p>
The payment request is an extensible, cryptographically verifiable, 
self-contained document that can be used interchangeably with any 
<tref>payment processor</tref>.
        </p>
        <p class="issue">
Stephane Boyera has raised a concern that this use case pulls in a bit too 
much about the choice of payment instrument and the type of payments (push-based,
token-based, credit-card info exchange). He suggests that it may be better to
break this into a meta-use case.
        </p>
        
      </section>

      <section>
        <h4>Requirements</h4>
        <ul>
          <li>
A messaging format that can encapsulate a list of goods and services being 
sold and the current value required to acquire the goods and services. 
          </li>
          <li>
The messaging format should be extensible (e.g. Linked Data, JSON-LD). 
          </li>
          <li>
The messaging format should be cryptographically verifiable (e.g. via 
digital signatures, PKI).
          </li>
          <li>
The messaging format should enable the <tref>payee</tref> to specify 
acceptable payment instruments.
          </li>
          <li>
A protocol that is capable of transmitting the payment request from the 
origination point of the payment request to the payer's 
<tref>payment processor</tref>.
          </li>
          <li>
A protocol that is capable of discovering the 
<tref title="payer">payer's</tref> 
<tref title="payment processor">payment processor(s)</tref>.
          </li>
          <li>
A protocol that is capable of discovering the <tref title="payer">payer's</tref>
<tref title="payment instrument">payment instrument(s)</tref>.
          </li>
        </ul>
      </section>
    </section>

    <section>
      <h3>Choice of Payment Instrument</h3>
      <p>
When a <tref>payee</tref> intends to make a payment, they are given a choice 
to pick among the intersection of the 
<tref title="payment instrument">payment instruments</tref> they have available 
to them and the payment instruments that are accepted by the payee.
      </p>

      <section>
        <h4>Examples</h4>
        <ul>
          <li>
Daniel wants to pay the taxi fare with his credit card. The cab company promotes
the payment via its web site which offers, on Daniel's smartphone, to choose 
between several instruments offering different payment means: 1) the basic 
credit card (Visa, MasterCard, etc.) channel; 2) or an indirect aggregator 
(PayPal, Google checkout); 3) or the personal wallet detected as available on 
Daniel's phone.
          </li>
          <li>
Amantha downloads the latest version of her favorite game. It's only a couple 
of euros that she'd like to pay on top of her telecom operator's bill. The game 
store web site accepts payment via credit card and operator billing. Amantha 
selects the "operator billing" payment option.
          </li>
        </ul>
      </section>
      
      <section>
        <h4>Details</h4>
        <ul>
          <li>
Each <tref>payment instrument</tref> is registered with a set of attributes in 
order to filter, sort, and display them. 
          </li>
          <li>
Each <tref>payment processor</tref> is registered and 'subscribes' to a the 
<tref>payment instrument</tref> it is able to provide.
          </li>
          <li>
Each <tref>merchant</tref> provides a list of acceptable 
<tref title="payment instrument">payment instruments</tref>.
          </li>
          <li>
Over time, each <tref>customer</tref> iteratively builds a list of preferred 
payment instruments for their commonly used 
<tref title="merchant">merchants</tref>.
          </li>
        </ul>
      </section>
        
      <section>
        <h4>Requirements</h4>
        <ul>
          <li>
The browser and the host are able to negotiate a 
<tref>payment instrument</tref> with respect to their preferences and 
support capabilities.
          </li>
        </ul>
      </section>
    </section>

    <section>
      <h3>Push-based Payments</h3>
      <p>
When a <tref>customer</tref> wants to make a purchase, the 
<tref>merchant</tref> presents the customer with an electronic invoice which 
in turn can be presented to a <tref>payment processor</tref>.  The payment 
processor then provides a validated proof-of-payment to the merchant.
      </p>

      <section>
        <h4>Examples</h4>
        <ul>
          <li>
Customer POV: John goes to CandyCart.com and clicks “buy” to purchase 
chocolates. John is redirected to the CandyCart.com’s 
<tref title="payment processor">payment processor's</tref> 
website which presents him with a payment UI. John completes the purchase, 
and is redirected to CandyCart.com’s website, to which he can now post a 
digital receipt confirming the purchase.  
          </li>
          <li>
Customer POV: Francis purchases items in a local novelty store.  The store 
system notifies his mobile application what methods of purchase can be used, 
and also sends his mobile application an electronic invoice for the 
transaction.  The mobile app presents Frances with options for payment, and 
Frances chooses to pay with his tokenized credit card.  The token and invoice 
are sent to the <tref>payment processor</tref> from the mobile app.  The 
payment processor responds with a signed proof of payment electronic document.
          </li>
          <li>
Merchant POV: A <tref>customer</tref> scans or clicks 5 items to purchase.  
The <tref>merchant</tref> system presents an electronic invoice (either total 
only or with a breakdown of the transaction), including the merchant's 
identifier, to the <tref title="customer">customer's</tref> device. 
The customer's device returns a digest of the invoice, having been created 
with the 
<tref title="payment processor">payment processor's</tref> private key.
          </li>
          <li>
Payment Processor POV: A <tref>customer</tref> sends an electronic invoice, 
including the <tref>merchant</tref> and customer identifiers, to the 
<tref>payment processor</tref>.  The payment processor checks the customer and 
merchant for validity, posts the requested amount to the merchant's acquirer, 
which returns a digest on the merchant/customer/amount/time tuple for proof of 
payment.  The payment processor then returns a signed digest of the invoice 
plus the acquirer digest proving payment to the customer's device, which it 
in turn posts to the merchant system to prove payment.
          </li>
        </ul>
      </section>
      
      <section>
        <h4>Details</h4>
        <p>
For this use case, the <tref>customer</tref> asks the 
<tref>payment processor</tref> for payment 
directly, preventing the need for sensitive customer information to be shared 
with the <tref>merchant</tref>, keeping the merchant out of "PCI scope."  
No direct communication between merchant and payment provider is required for 
this use case. It may be possible to create an electronic receipt format 
that satisfies the requirements for this use case as well as others. 
        </p>
      </section>
        
      <section>
        <h4>Requirements</h4>
        <ul>
          <li>
All acquirers must have an available public key.
          </li>
          <li>
All <tref title="payment processor">payment processors</tref> must have an 
available public key.
          </li>
          <li>
All <tref title="merchant">merchants</tref> must have a global identifier.
          </li>
          <li>
All <tref title="customer">customers</tref> must be recognized by the 
<tref>payment processor</tref>.
          </li>
        </ul>
      </section>
    </section>

  </section>
  
  <section> 
    <h2>Medium Priority Use Cases</h2> 
    <p>
The following use cases have been identified by the Web Payments Interest
Group as medium-priority items.
    </p>

    <section>
      <h3>Pre-authorization</h3>
      <p>
<tref title="transaction">Transactions</tref> over a certain amount may require 
a preliminary check on the availability of funds to complete the transaction. 
These transactions may also have a provision to perform a hold on the funds 
until the product or service is delivered and the transaction is complete.
      </p>

      <section>
        <h4>Examples</h4>
        <ul>
          <li>
Customer POV: George pulls up to a pump at a petrol station. His in-vehicle 
application recognizes the station location and the pump, and asks if he wants 
to approve a fill up. He answers "yes" and is prompted for which method of 
payment he would like to use. He makes his selection, exits the vehicle, 
lifts the nozzle, selects the grade of fuel, and fills his car. When he 
returns to his vehicle, an electronic receipt for the purchase is displayed 
by his in-vehicle application.
          </li>
          <li>
Customer POV: Doris uses her mobile application to approve fuel fill-up for 
her van. She realizes after exiting her vehicle that the site is not ADA 
compliant, and so she cannot access the pumps. She uses her mobile application 
to cancel the transaction.
          </li>
          <li>
Merchant POV: FuelCo's in-store control system gets a message from a
<tref>payment processor</tref> that pump 14 should be approved for a fill-up. 
The message includes a single use cryptogram that can be used to prove 
authorization. The equipment arms the pump and allows the fueling to proceed. 
On completion, the merchant system sends the actual amount to pay along with 
the single use cryptogram back to the payment processor.
          </li>
        </ul>
      </section>
      
      <section>
        <h4>Details</h4>
        <p>
Delivering services or products that are difficult to "undo", such 
as performing an oil change, dispensing fuel, or renting a car, are examples 
of situations which may require a two-part transaction.
        </p>
        <p>
This use case highlights the need for a two part transaction. The
first part either checks availability or reserves funds, and the second 
completes the transaction with the actual amount. There are many different 
ways these two segments can be completed.
        </p>
      </section>
        
      <section>
        <h4>Requirements</h4>
        <ul>
          <li>
A protocol and data format that enables a device to directly send a 
pre-authorization request to a <tref>customer</tref>, process it through
the customer's <tref>payment processor</tref>, and receive the proof of
pre-authorization from either the customer device or the customer's 
payment processor.
          </li>
          <li>
A protocol and data format that enables the pre-authorization request to be
processed entirely with the <tref title="merchant">merchant's</tref> payment
processing system.
          </li>
          <li>
A protocol that enables the merchant to request a specific hold amount, the
amount to be approved or denied by the customer, and the hold of the funds to
be either approved of denied by the <tref>payment processor</tref>.
          </li>
        </ul>
      </section>
    </section>

  </section>

  <section> 
    <h2>Low Priority Use Cases</h2> 
    <p>

    </p>
  </section>

  <section> 
    <h2>Acknowledgements</h2>
 
    <p>
The editors are thankful to the following contributions from ...
(in alphabetical order): 
    </p>
    <p>
List of contributors/reviewers.
    </p>

  </section>

  </body> 
</html>

